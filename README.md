# BeeDrifting
This repository contains several scripts for facilitating bee RFID tag data analysis. The scripts can correct and reformat RFID tag data files generated by the Micro-Sensys GmbH RFID tag system ("log" files). The scripts can also extract information on foraging trips and drifting behaviour of individual bees from the RFID tag data files.

## correct_files.py
The script correct_files.py corrects the entries in the RFID tag output files ("log" files). The following issues are corrected:
(1) 120 seconds are deducted from the timestamp.
(2) "Unknown" is changed to "Arriving", when the observation is sandwiched between two departures and the time between departure and arrival, and arrival and departure is exceeded. 
(3) "Unknown" is changed to "Departing", when the observation is sandwiched between two arrivals and the time between departure and arrival, and arrival and departure is exceeded.

When submitting the script the time between arrival and departure, and departure and arrival needs to be given in seconds, comma seperated, without spaces, for example: 60,180. Also, the path to the folder containing all the log files should be specified when the script is run.

Use: python correct_files.py <data_folder> <x,x>

Example: python correct_files.py example_data_files 60,180

The output of the script is corrected data files, placed in the same data folder as the input log files. The files have been renamed with "corrected.csv" at the end. 

## extract_foraging_trips.py
This script finds all the foraging trips in the corrected log files. The minimal and maximal duration of a foraging trip should be given in seconds when running the script. The "correct_files.py" script should be run before this script.

Use: python extract_foraging_trips.py <data_folder> <min_duration> <max_duration>

Example: python extract_foraging_trips.py example_data_files 180 10800

The output is one file, named "foraging_trips.csv", which contains all the foraging trips which passed the thresholds. A column is added with information if the bee is a drifter or not.

## find_drifters.py
This script extracts all drifter activity from the corrected log files. The "correct_files.py" script should be run before this script.

Use: python find_drifters.py <data_folder>

Example: python find_drifters.py example_data_files
